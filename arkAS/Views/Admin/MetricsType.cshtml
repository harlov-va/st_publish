@using arkAS.Models;
@{
    Layout = arkAS.BLL.Core.CoreManager.GetCabinetLayout();
    ViewBag.Title = "Типы метрик";
    var js = new System.Web.Script.Serialization.JavaScriptSerializer();
}

<div class="usCont">
</div>

@section js{
    <script type="text/javascript">
         
        var us = {
            init: function () {
                us.initMainTable();
            },
            initMainTable: function () {
                as.crud.init({
                    cont: $(".usCont"),
                    title: "Типы метрик",
                    toolbarAdditional: "",
                    groupOperationsToolbar: "",
                    ajaxURLFormat: "/Admin/MetricsType_{0}",
                    inlineAjaxURL: "/Admin/MetricsTypeInline",
                    pageSize: 150,
                    cookiePrefix: "as-crud-metricsTypeTable-",
                    emptyText: "Нет типов метрик",
                    createLinkTitle: "Создать",
                    filterLinkTitle: "Найти",
                    filterTitle: "Фильтрация данных",
                    showChecksCol: false,
                    showNumsCol: false,
                    showToolbar: true,
                    showColSettings: false,
                    showReplaceTool: false,
                    showExcelExport: false,
                    additionalSort: false,
                    cols: [
                        { code: "id", title: "ID", tooltip: "Идентификатор", isVisible: false, isPK: true, datatype: "int", isRequired: false },
                        {
                            code: "name", title: "Название", tooltip: "Название типа метрики", isVisible: true, isPK: false, datatype: "string", isRequired: false, format: "{0}", isSort: false,
                            editable: { type: "text", format: "{0}", callback: function (el, newValue) { } }
                        },
                        {
                            code: "code", title: "Код", tooltip: "Код типа метрики", isVisible: true, isPK: false, datatype: "string", isRequired: false, format: "{0}", isSort: false,
                            editable: { type: "text", format: "{0}", callback: function (el, newValue) { } }
                        },
                        {
                            code: "ord", title: "Порядок сортировки", tooltip: "Порядок сортировки (меньше число - выше уровень)", isVisible: true, isPK: false, datatype: "int", isRequired: false, format: "{0}", isSort: false,
                            editable: { type: "number", format: "{0}", callback: function (el, newValue) { } }
                        }
                    ],
                    operations: {
                        create: true,
                        remove: true,
                        edit: false,
                        other: []
                    },
                    getFilterMakeup: function (filter) {
                        var s = [];
                        return s.join("");
                    },
                    filter: function () {
                        return {};
                    },
                    getItemsCallback: function () {
                    }
                });
            },
        }
        $(function () {
            us.init();
        });
    </script>
}